// Decompiled with JetBrains decompiler
// Type: TemporaryInvulnerabilityPlayerItem
// Assembly: Assembly-CSharp, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: E27C5245-924B-4031-BFBB-14AA632E24E2
// Assembly location: D:\Github\Re-ETG\Managed\Assembly-CSharp.dll

using System.Collections;
using System.Diagnostics;
using UnityEngine;

#nullable disable

namespace ETG.Core.Items.Active
{
    public class TemporaryInvulnerabilityPlayerItem : PlayerItem
    {
      public float Duration = 5f;

      protected override void DoEffect(PlayerController user)
      {
        int num = (int) AkSoundEngine.PostEvent("Play_OBJ_powerstar_use_01", user.gameObject);
        Material[] materialArray = user.SetOverrideShader(ShaderCache.Acquire("Brave/Internal/RainbowChestShader"));
        for (int index = 0; index < materialArray.Length; ++index)
        {
          if (!((Object) materialArray[index] == (Object) null))
            materialArray[index].SetFloat("_AllColorsToggle", 1f);
        }
        user.StartCoroutine(this.HandleDuration(user, materialArray[0]));
      }

      [DebuggerHidden]
      private IEnumerator HandleDuration(PlayerController user, Material userMaterial)
      {
        // ISSUE: object of a compiler-generated type is created
        return (IEnumerator) new TemporaryInvulnerabilityPlayerItem.<HandleDuration>c__Iterator0()
        {
          user = user,
          $this = this
        };
      }

      protected override void OnDestroy() => base.OnDestroy();
    }

}
